{% extends "my_base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}
{% block breadcrumb %}
    <a href="{{ url_for('admin.view_courses') }}">
        <pb>Kursy</pb>
    </a>
    /
    <a href="{{ url_for('admin.view_course', course_name = lesson.course.name) }}">
        <pb> {{ lesson.course.name }} </pb>
    </a>
    /
    <a href="{{ url_for('admin.view_lesson', lesson_name = lesson.name) }}">
        <pb> {{ lesson.name }} </pb>
    </a>
    /
    <a href="{{ url_for('admin.add_exercise', course_name = lesson.course.name, lesson_name = lesson.name) }}">
        <pb>Dodaj zadanie</pb>
    </a>
{% endblock %}
{% block app_content %}
    <form action="" method="post" enctype="multipart/form-data" role="form">
        {{ form.csrf_token() }}
        <textarea id="summernote" name="editordata"></textarea>
        <script>
            $(document).ready(function () {
                $('#summernote').summernote();
                $('.dropdown-toggle').dropdown();
            });
        </script>
        <div class="form-group col-md-6">
            {{ wtf.form_field(form.name, class='form-control') }}
        </div>
        <div class="form-group col-md-6">
            {{ wtf.form_field(form.max_attempts, class='form-control') }}
        </div>

        <div class="form-group col-md-6">
            {{ wtf.form_field(form.end_date, class='form-control') }}
        </div>
        <div class="form-group col-md-6">
            {{ wtf.form_field(form.end_time, class='form-control') }}
        </div>
        <div class="form-group col-md-6">
            {{ wtf.form_field(form.compile_command, class='form-control') }}
        </div>
        <div class="form-group col-md-6">
            {{ wtf.form_field(form.run_command, class='form-control') }}
        </div>
        <div class="form-group col-md-6">
            {{ wtf.form_field(form.output, class='form-control') }}
        </div>
        <div class="form-group col-md-6">
            {{ wtf.form_field(form.input, class='form-control') }}
        </div>
        <div class="form-group col-md-6">
            {{ wtf.form_field(form.max_points, class='form-control') }}
        </div>
        <div class="form-group col-md-6">
            {{ wtf.form_field(form.program_name, class='form-control') }}
        </div>
        <div class="form-group col-md-6">
            {{ wtf.form_field(form.timeout, class='form-control') }}
        </div>
        <div class="form-group col-md-6">
            {{ wtf.form_field(form.interval, class='form-control') }}
        </div>
        {{ wtf.form_field(form.submit_button, class='btn btn-success') }}
    </form>
{% endblock %}

{#class ExerciseForm(FlaskForm):#}
{#name = StringField('Nazwa', validators=[DataRequired()])#}
{#content = StringField('Treść', validators=[DataRequired()])#}
{#max_attempts = IntegerField('Liczba prób', default=3, validators=[DataRequired()])#}
{#end_date = DateField('Data końcowa', format='%Y-%m-%d', validators=[DataRequired()])#}
{#end_time = TimeField('Godzina')#}
{#compile_command = StringField('compile command')#}
{#run_command = StringField('run_command', validators=[DataRequired()])#}
{#output = FileField('Output', validators=[DataRequired()])#}
{#input = FileField('Input', validators=[DataRequired()])#}
{#max_points = FloatField('Liczba punktów', validators=[DataRequired()])#}
{#program_name = StringField('Nazwa testowanego pliku', validators=[DataRequired()])#}
{#timeout = IntegerField('Timeout w sekundach')#}
{#interval = IntegerField('Przerwa pomiędzy wysłaniem zadań')#}
{#submit_button = SubmitField('Dodaj ćwiczenie')#}
